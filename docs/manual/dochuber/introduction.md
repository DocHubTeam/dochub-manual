# Dochuber

Dochuber — это AI-ассистент, который помогает в развитии документации и архитектуры предприятия.
Он имеет встроенные навыки зависящие от выбранной модели и может специализироваться под конкретный
репозиторий.

## Встроенные навыки

1. Общие знания из различных предметных областей для решения задач развития репозитория;
2. Генерация и редактирование контента документов и диаграмм;
3. Помощь при редактировании архитектурного описания на основании знаний о метамодели;
4. Аналитические ответы по репозиторию: поиск->анализ->формулирование ответа.

## Возможности конфигурирования

Для обеспечения высокого качества ответов AI-агента требуется подготовка качественного контекста. 
Контекст для AI-агента — это данные, которые обеспечивают необходимую информацию и помогают сформировать
релевантные и точные ответы на запросы пользователя. В случае с Dochuber, контекст может включать
информацию о репозитории, метамодели, документации и архитектуре предприятия.

Dochuber оснащён встроенным механизмом генерации контекста. В большинстве случаев он вполне достаточен.
Однако по мере того как репозиторий приобретает уникальные особенности, этот механизм может потребовать 
расширения. Для решения этой проблемы в Dochuber предусмотрена возможность влиять на процесс генерации
контекстов через его конфигурацию.

```code-frame
/dochuber/contexts/global
```

Теперь, если задать вопрос Dochuber о количестве документов в репозитории он будет давать примерно такие ответы:

```
Вопрос: Сколько документов в репозитории?
Ответ: Всего документов в текущем репозитории: 100 шт.

Вопрос: Документов репозитории больше 50?
Ответ: Да, документов в репозитории больше 50, всего их 100 штук.
```

## Типы генераторов контекстов

* **resource**    — определяет ресурс, доступный по URI, как контекст. Это может быть файл в текущем или стороннем
                    репозитории, а также ссылка на любой другой ресурс, например, по HTTP.
* **dataset**     — этот тип используется по умолчанию. Генератор воспринимается как [dataset](@document/dochub.datasets)
                    и должен вернуть текстовую информацию, которая будет использоваться как контекст.
* **generator**   — если указан этот тип, то сам генератор воспринимается как [dataset](@document/dochub.datasets),
                    но, в отличие от типа "dataset", результатом его выполнения должен стать не текст, а массив генераторов.
                    Такой подход позволяет создавать сложные, автоматически генерируемые деревья формирования контекстов.

Ниже будут рассмотрены все типы подробно.

### Тип генератора "resource"

Самый простой тип генератора. Он загружает ресурс, указанный в поле "source". Не стоит недооценивать его значение, так
как ссылка может быть как относительным путем к файлу в текущем репозитории, так и HTTP-ссылкой, ведущей
на API корпоративного сервиса, что дает широкие возможности по интеграции DocHub с внешним ландшафтом.

Пример демонстрирует интеграцию Dochuber с внешним ресурсом предоставляющим информацию о погоде в России:

```code-frame
/dochuber/contexts/global/dochub.integrations.weather
```

В результате AI-агент может отвечать на вопросы о погоде:

```
Вопрос: Какая погода сейчас в Сибири?
Ответ: На основании предоставленных данных можно сказать, что в Сибири наблюдается переменчивая погода. В Западной Сибири
погодная ситуация нестабильна: циклоны чередуются с антициклонами, тёплые воздушные массы сменяются холодными.
В Ямало-Ненецком автономном округе ожидаются осадки в виде снега и мокрого снега, метель и сильный ветер.
```

### Тип генератора "dataset"

Этот тип генератора предназначен для подготовки контекста на основе архитектурного datalake. Его функционирование аналогично
работе [dataset](@document/dochub.datasets). В результате своей работы он должен выдавать текст. Любые другие форматы данных
будут автоматически преобразованы в текстовый формат.

Выше был рассмотрен базовый пример использования генератора типа "dataset", который вычислял количество документов в 
репозитории. Теперь рассмотрим более сложный пример: генератор будет формировать детализированную информацию о
технологическом стеке и формулировать требования к его использованию при описании архитектурных компонентов.

```code-frame
/dochuber/contexts/global/dochub.rules.techstack
```
В этом случае ответы AI-агента будут иметь вид:
```
Вопрос: Какой техстек используется?
Ответ: SberPay; Go; PHP; HTTP; Chrome; Firefox; Safari; GitLab; Git; PlantUML; graphviz; JavaScript; VUEJS2; VUE2; VUEX; Axios; Markdown; JSONata.

Вопрос: Могу ли я использовать технологии JSONata и WebOS?
Ответ: Да, вы можете использовать технологию JSONata, так как она входит в указанный технологический стек.
Однако WebOS в списке доступных технологий не упоминается, поэтому её использование не рекомендуется.
```

### Тип генератора "generator"



  
